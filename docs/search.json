[
  {
    "objectID": "01_painel1.html",
    "href": "01_painel1.html",
    "title": "Interactive Selection",
    "section": "",
    "text": "library(gt)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(purrr)\nlibrary(ggiraph)\nlibrary(htmltools)\n\n\nAttaching package: 'htmltools'\n\n\nThe following object is masked from 'package:pander':\n\n    p\n\nlibrary(reactable)\ncolor_palette &lt;- c(\"#E69F00\", \"#009E73\", \"#0072B2\")\nnames(color_palette) &lt;- unique(palmerpenguins::penguins$species)\n\n\ndiv(\n  div('Species', style = 'font-weight:600'),\n  purrr::map(\n    unique(palmerpenguins::penguins$species), \n    \\(x) tags$input(\n      type = 'checkbox',\n      name = 'checkboxes',\n      checked = 'checked',\n      value = x,\n      x\n    )\n  ),\n  onchange = reactable::JS(\n          \"Reactable.setFilter(\n            'tbl',\n            'Species',\n            function() {\n              checkboxes = document.querySelectorAll('input[name=\\\"checkboxes\\\"]');\n              return Array.from(checkboxes)\n                .filter(function(checkbox) {\n                  return checkbox.checked;\n                })\n                .map(function(checkbox) {\n                  return checkbox.value;\n                });\n            }\n          )\n          \"\n  )\n)\n\n\nSpecies\nAdelie\nGentoo\nChinstrap\n\n\n\n\ndiv(\n  div('Empresas', style = 'font-weight:600'),\n  paste(purrr::map(struct_empresas$EMPRESA, \\(x) {\n    tags$input(\n      type = 'checkbox',\n      name = 'checkboxes',\n      checked = 'checked',\n      value = x,\n      x\n    )\n  }), collapse = '&lt;br&gt;'),\n  onchange = reactable::JS(\n          \"Reactable.setFilter(\n            'tbl',\n            'Species',\n            function() {\n              checkboxes = document.querySelectorAll('input[name=\\\"checkboxes\\\"]');\n              return Array.from(checkboxes)\n                .filter(function(checkbox) {\n                  return checkbox.checked;\n                })\n                .map(function(checkbox) {\n                  return checkbox.value;\n                });\n            }\n          )\n          \"\n  )\n)\n\n\nEmpresas\nlist(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Gafisa\"), children = list(\"Gafisa\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"PDG Realty\"), children = list(\"PDG Realty\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"CR2\"), children = list(\"CR2\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Mitre\"), children = list(\"Mitre\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Tecnisa\"), children = list(\"Tecnisa\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"JHSF\"), children = list(\"JHSF\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Ez Tec\"), children = list(\"Ez Tec\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"MRV\"), children = list(\"MRV\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Cury\"), children = list(\"Cury\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Trisul\"), children = list(\"Trisul\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Kallas\"), children = list(\"Kallas\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Yuny\"), children = list(\"Yuny\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Inter\"), children = list(\"Inter\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"You Inc\"), children = list(\"You Inc\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Moura Dubex\"), children = list(\"Moura Dubex\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Melnick\"), children = list(\"Melnick\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Sugoi\"), children = list(\"Sugoi\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Direcional\"), children = list(\"Direcional\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Alphaville\"), children = list(\"Alphaville\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Emccamp\"), children = list(\"Emccamp\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Patrimar\"), children = list(\"Patrimar\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Plano & Plano\"), children = list(\"Plano & Plano\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Lavvi\"), children = list(\"Lavvi\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Tegra\"), children = list(\"Tegra\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"João Fortes\"), children = list(\"João Fortes\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"EZ Inc\"), children = list(\"EZ Inc\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Even\"), children = list(\"Even\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Helbor\"), children = list(\"Helbor\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Lindenberg\"), children = list(\"Lindenberg\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Rossi\"), children = list(\"Rossi\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"RNI\"), children = list(\"RNI\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Viver\"), children = list(\"Viver\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Tenda\"), children = list(\"Tenda\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Cyrela\"), children = list(\"Cyrela\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Pacaembu\"), children = list(\"Pacaembu\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Metrocasa\"), children = list(\"Metrocasa\"))\n\n\n\n\n\n\n\n\n\n\nfiltered_penguins &lt;- palmerpenguins::penguins |&gt;\n  filter(!is.na(sex))\n\npenguin_weights &lt;- filtered_penguins |&gt;\n  group_by(species) |&gt;\n  summarise(\n    Min = min(body_mass_g),\n    Mean = mean(body_mass_g) |&gt; round(digits = 2),\n    Max = max(body_mass_g)\n  ) |&gt;\n  mutate(species = as.character(species)) |&gt;\n  rename(Species = species)\n\nplot_density_species &lt;- function(my_species) {\n  full_range &lt;- filtered_penguins |&gt;\n    pull(body_mass_g) |&gt;\n    range()\n\n  filtered_penguins |&gt;\n    filter(species == my_species) |&gt;\n    ggplot(aes(x = body_mass_g, y = species)) +\n    geom_violin(fill = color_palette[my_species]) +\n    theme_minimal() +\n    scale_y_discrete(breaks = NULL) +\n    scale_x_continuous(breaks = NULL) +\n    labs(x = element_blank(), y = element_blank()) +\n    coord_cartesian(xlim = full_range)\n}\n\n\nlibrary(reactable)\npenguin_weights |&gt; \n  mutate(Distribution = Species) |&gt;\n  reactable(\n    columns = list(\n      Species = colDef(\n        name = \"Species\",\n        style = function(value) {\n          list(\n            color = color_palette[value] |&gt; unname(),\n            fontWeight = \"bold\"\n          )\n        },\n        filterMethod = reactable::JS(\"\n          function(rows, columnId, filterValue) {\n            return filterValue.length === 0 ? rows : rows.filter(\n              (row) =&gt; {\n                return filterValue.includes(row.values[columnId])\n              }\n            )\n          }\n          \"\n        )\n      ),\n      Min = colDef(\n        name = \"Min\",\n        align = \"right\",\n        format = colFormat(\n          digits = 0,\n          suffix = 'g'\n        )\n      ),\n      Mean = colDef(\n        name = \"Mean\",\n        align = \"right\",\n        format = colFormat(\n          digits = 0,\n          suffix = 'g'\n        )\n      ),\n      Max = colDef(\n        name = \"Max\",\n        align = \"right\",\n        format = colFormat(\n          digits = 0,\n          suffix = 'g'\n        )\n      ),\n      Distribution = colDef(\n        name = \"Distribution\",\n        align = 'center',\n        cell = function(value) {\n          plot_density_species(value) |&gt;\n            girafe(code = print, height_svg = 3)\n        }\n      )\n    ),\n    columnGroups = list(\n      colGroup(\n        name = \"Penguin's Weight\",\n        columns = c(\"Min\", \"Mean\", \"Max\", \"Distribution\")\n      )\n    ),\n    style = list(\n      fontFamily = \"Source Sans Pro\",\n      fontSize = 24\n    ),\n    defaultPageSize = 3,\n    elementId = \"tbl\",\n  )"
  },
  {
    "objectID": "01_painel1.html#section",
    "href": "01_painel1.html#section",
    "title": "Interactive Selection",
    "section": "",
    "text": "library(gt)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(purrr)\nlibrary(ggiraph)\nlibrary(htmltools)\n\n\nAttaching package: 'htmltools'\n\n\nThe following object is masked from 'package:pander':\n\n    p\n\nlibrary(reactable)\ncolor_palette &lt;- c(\"#E69F00\", \"#009E73\", \"#0072B2\")\nnames(color_palette) &lt;- unique(palmerpenguins::penguins$species)\n\n\ndiv(\n  div('Species', style = 'font-weight:600'),\n  purrr::map(\n    unique(palmerpenguins::penguins$species), \n    \\(x) tags$input(\n      type = 'checkbox',\n      name = 'checkboxes',\n      checked = 'checked',\n      value = x,\n      x\n    )\n  ),\n  onchange = reactable::JS(\n          \"Reactable.setFilter(\n            'tbl',\n            'Species',\n            function() {\n              checkboxes = document.querySelectorAll('input[name=\\\"checkboxes\\\"]');\n              return Array.from(checkboxes)\n                .filter(function(checkbox) {\n                  return checkbox.checked;\n                })\n                .map(function(checkbox) {\n                  return checkbox.value;\n                });\n            }\n          )\n          \"\n  )\n)\n\n\nSpecies\nAdelie\nGentoo\nChinstrap\n\n\n\n\ndiv(\n  div('Empresas', style = 'font-weight:600'),\n  paste(purrr::map(struct_empresas$EMPRESA, \\(x) {\n    tags$input(\n      type = 'checkbox',\n      name = 'checkboxes',\n      checked = 'checked',\n      value = x,\n      x\n    )\n  }), collapse = '&lt;br&gt;'),\n  onchange = reactable::JS(\n          \"Reactable.setFilter(\n            'tbl',\n            'Species',\n            function() {\n              checkboxes = document.querySelectorAll('input[name=\\\"checkboxes\\\"]');\n              return Array.from(checkboxes)\n                .filter(function(checkbox) {\n                  return checkbox.checked;\n                })\n                .map(function(checkbox) {\n                  return checkbox.value;\n                });\n            }\n          )\n          \"\n  )\n)\n\n\nEmpresas\nlist(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Gafisa\"), children = list(\"Gafisa\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"PDG Realty\"), children = list(\"PDG Realty\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"CR2\"), children = list(\"CR2\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Mitre\"), children = list(\"Mitre\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Tecnisa\"), children = list(\"Tecnisa\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"JHSF\"), children = list(\"JHSF\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Ez Tec\"), children = list(\"Ez Tec\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"MRV\"), children = list(\"MRV\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Cury\"), children = list(\"Cury\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Trisul\"), children = list(\"Trisul\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Kallas\"), children = list(\"Kallas\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Yuny\"), children = list(\"Yuny\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Inter\"), children = list(\"Inter\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"You Inc\"), children = list(\"You Inc\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Moura Dubex\"), children = list(\"Moura Dubex\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Melnick\"), children = list(\"Melnick\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Sugoi\"), children = list(\"Sugoi\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Direcional\"), children = list(\"Direcional\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Alphaville\"), children = list(\"Alphaville\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Emccamp\"), children = list(\"Emccamp\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Patrimar\"), children = list(\"Patrimar\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Plano & Plano\"), children = list(\"Plano & Plano\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Lavvi\"), children = list(\"Lavvi\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Tegra\"), children = list(\"Tegra\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"João Fortes\"), children = list(\"João Fortes\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"EZ Inc\"), children = list(\"EZ Inc\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Even\"), children = list(\"Even\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Helbor\"), children = list(\"Helbor\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Lindenberg\"), children = list(\"Lindenberg\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Rossi\"), children = list(\"Rossi\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"RNI\"), children = list(\"RNI\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Viver\"), children = list(\"Viver\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Tenda\"), children = list(\"Tenda\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Cyrela\"), children = list(\"Cyrela\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Pacaembu\"), children = list(\"Pacaembu\"))&lt;br&gt;list(name = \"input\", attribs = list(type = \"checkbox\", name = \"checkboxes\", checked = \"checked\", value = \"Metrocasa\"), children = list(\"Metrocasa\"))"
  },
  {
    "objectID": "01_painel1.html#main-body",
    "href": "01_painel1.html#main-body",
    "title": "Interactive Selection",
    "section": "",
    "text": "filtered_penguins &lt;- palmerpenguins::penguins |&gt;\n  filter(!is.na(sex))\n\npenguin_weights &lt;- filtered_penguins |&gt;\n  group_by(species) |&gt;\n  summarise(\n    Min = min(body_mass_g),\n    Mean = mean(body_mass_g) |&gt; round(digits = 2),\n    Max = max(body_mass_g)\n  ) |&gt;\n  mutate(species = as.character(species)) |&gt;\n  rename(Species = species)\n\nplot_density_species &lt;- function(my_species) {\n  full_range &lt;- filtered_penguins |&gt;\n    pull(body_mass_g) |&gt;\n    range()\n\n  filtered_penguins |&gt;\n    filter(species == my_species) |&gt;\n    ggplot(aes(x = body_mass_g, y = species)) +\n    geom_violin(fill = color_palette[my_species]) +\n    theme_minimal() +\n    scale_y_discrete(breaks = NULL) +\n    scale_x_continuous(breaks = NULL) +\n    labs(x = element_blank(), y = element_blank()) +\n    coord_cartesian(xlim = full_range)\n}\n\n\nlibrary(reactable)\npenguin_weights |&gt; \n  mutate(Distribution = Species) |&gt;\n  reactable(\n    columns = list(\n      Species = colDef(\n        name = \"Species\",\n        style = function(value) {\n          list(\n            color = color_palette[value] |&gt; unname(),\n            fontWeight = \"bold\"\n          )\n        },\n        filterMethod = reactable::JS(\"\n          function(rows, columnId, filterValue) {\n            return filterValue.length === 0 ? rows : rows.filter(\n              (row) =&gt; {\n                return filterValue.includes(row.values[columnId])\n              }\n            )\n          }\n          \"\n        )\n      ),\n      Min = colDef(\n        name = \"Min\",\n        align = \"right\",\n        format = colFormat(\n          digits = 0,\n          suffix = 'g'\n        )\n      ),\n      Mean = colDef(\n        name = \"Mean\",\n        align = \"right\",\n        format = colFormat(\n          digits = 0,\n          suffix = 'g'\n        )\n      ),\n      Max = colDef(\n        name = \"Max\",\n        align = \"right\",\n        format = colFormat(\n          digits = 0,\n          suffix = 'g'\n        )\n      ),\n      Distribution = colDef(\n        name = \"Distribution\",\n        align = 'center',\n        cell = function(value) {\n          plot_density_species(value) |&gt;\n            girafe(code = print, height_svg = 3)\n        }\n      )\n    ),\n    columnGroups = list(\n      colGroup(\n        name = \"Penguin's Weight\",\n        columns = c(\"Min\", \"Mean\", \"Max\", \"Distribution\")\n      )\n    ),\n    style = list(\n      fontFamily = \"Source Sans Pro\",\n      fontSize = 24\n    ),\n    defaultPageSize = 3,\n    elementId = \"tbl\",\n  )"
  }
]